<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>我的订单</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container mt-5">
    <h2 class="mb-4">📦 我的订单历史</h2>

    <div class="card mb-3 shadow-sm" th:each="order : ${orders}">
        <div class="card-header d-flex justify-content-between">
            <span>订单号: #<span th:text="${order.id}">123</span></span>
            <span class="badge bg-success" th:text="${order.status}">已完成</span>
        </div>
        <div class="card-body">
            <p class="text-muted">下单时间: <span th:text="${#temporals.format(order.createTime, 'yyyy-MM-dd HH:mm')}"></span></p>
            <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex justify-content-between align-items-center"
                    th:each="item : ${order.orderItems}">
                    <span>
                        <span th:text="${item.product.name}">商品名</span> x <span th:text="${item.quantity}">1</span>
                    </span>
                    <span th:text="${item.price * item.quantity}">99.00</span>
                </li>
            </ul>
            <div class="mt-3 text-end fw-bold">
                总计: ￥<span th:text="${order.totalAmount}">999.00</span>
            </div>
        </div>
    </div>

    <div th:if="${orders == null or orders.empty}" class="alert alert-info">
        暂无订单记录，<a href="/">去购物</a>
    </div>

    <a href="/" class="btn btn-outline-secondary mt-3">返回首页</a>
</div>
</body>
</html>